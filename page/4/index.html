<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"/><meta content="yes" name="apple-mobile-web-app-capable"/><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/><meta content="telephone=no" name="format-detection"/><meta name="description" content="Vulnerability|Security|Binary"/><title>WeaponX's Blog | Binary</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"/><link rel="stylesheet" type="text/css" href="/css/highlight.css"/><link rel="stylesheet" type="text/css" href="/css/font.css"/><link rel="stylesheet" type="text/css" href="/css/noise.css"/><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"/><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"/><link rel="alternate" type="application/atom+xml" href="/atom.xml"/></head><body><header class="wrapper header"><div class="container blog-title"><a class="title" id="logo" href="/.">WeaponX's Blog</a><span class="subtitle">Binary</span><label id="toggle-menu" for="menu" onclick="onclick"><i class="fa fa-bars"></i></label></div><input id="menu" type="checkbox"/><div class="container nav-items"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a></div></header><article class="wrapper"><div class="container entries" id="index-main"><div class="post-entry"><div class="post-desc"><div class="post-title"><a href="/2017/03/02/tiny-easy-Writeup-pwnable-kr/">tiny_easy Writeup[pwnable.kr]</a></div><div class="post-content"><h2 id="0x00-tiny-easy"><a href="#0x00-tiny-easy" class="headerlink" title="0x00 tiny_easy"></a>0x00 tiny_easy</h2><p>这个文件用sftp传下来看了一下，文件很小只有4k，代码也很少，直接执行则会报错。</p></div><div class="post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/pwn/">pwn</a><a class="post-tag-link" href="/tags/安全/">安全</a></div><div class="post-time">2017-03-02</div></div></div></div><div class="post-entry"><div class="post-desc"><div class="post-title"><a href="/2017/03/01/python中Random的坑/">python中Random的坑</a></div><div class="post-content"><h2 id="0x00-前景提要"><a href="#0x00-前景提要" class="headerlink" title="0x00 前景提要"></a>0x00 前景提要</h2><p>在搬砖过程中遇到一个巨坑，有一个python模块实现了一个本地监听多个端口的功能，为了防止监听端口冲突端口使用了python中的<code>random</code>模块中的<code>randint</code>函数来实现随机端口的生成。然而两次调用后却发现一直报<code>error: [Errno 98] Address already in use</code>，明显就是端口被占用。这个就比较奇怪了，因为该模块一次监听5个端口。怎么可能5个端口都会有冲突。</p></div><div class="post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/python/">python</a><a class="post-tag-link" href="/tags/安全/">安全</a></div><div class="post-time">2017-03-01</div></div></div></div><div class="post-entry"><div class="post-desc"><div class="post-title"><a href="/2017/02/28/unexploitable-Writeup-pwnable-kr/">unexploitable Writeup[pwnable.kr]</a></div><div class="post-content"><h2 id="0x00-unexploitable"><a href="#0x00-unexploitable" class="headerlink" title="0x00 unexploitable"></a>0x00 unexploitable</h2><p>看看源代码，很简单的程序</p>
<figure class="highlight c"><table><tr><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="comment">// no brute forcing</span></div><div class="line">    sleep(<span class="number">3</span>);</div><div class="line">    <span class="comment">// exploit me</span></div><div class="line">    <span class="keyword">int</span> buf[<span class="number">4</span>];</div><div class="line">    read(<span class="number">0</span>, buf, <span class="number">1295</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>第一反应是用return to dl reslove，但是仔细一看没法做内存泄漏。因为64位需要把debug位置0，但是无法得到link_map的地址，所以这条路走不通。只能在题目给出的<code>syscall</code>上做文章。</p></div><div class="post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/pwn/">pwn</a><a class="post-tag-link" href="/tags/安全/">安全</a></div><div class="post-time">2017-02-28</div></div></div></div><div class="post-entry"><div class="post-desc"><div class="post-title"><a href="/2017/02/21/unlink-Writeup-pwnable-kr/">unlink Writeup[pwnable.kr]</a></div><div class="post-content"><h2 id="0x00-unlink"><a href="#0x00-unlink" class="headerlink" title="0x00 unlink"></a>0x00 unlink</h2><p>unlink是堆溢出的常用思路，free一个堆时。有可能会调用unlink函数来拆卸freelist上堆块完成堆块的合并。如果能控制堆的控制区就有可能造成DWSHOOT（有限的任意地址写入）。</p></div><div class="post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/pwn/">pwn</a><a class="post-tag-link" href="/tags/安全/">安全</a></div><div class="post-time">2017-02-21</div></div></div></div><div class="post-entry"><div class="post-desc"><div class="post-title"><a href="/2017/02/15/uaf-writeup-pwnable-kr/">uaf Writeup[pwnable.kr]</a></div><div class="post-content"><h2 id="0x00-UAF"><a href="#0x00-UAF" class="headerlink" title="0x00 UAF"></a>0x00 UAF</h2><p>UAF(Use After Free)释放后重用，其实是一种指针未置空造成的漏洞。在操作系统中，为了加快程序运行速度，如果释放一块n字节大小的内存空间，当申请一块同样大小的内存空间时，会将刚刚释放的内存空间重新分配。如果指向这块内存空间的指针没有置空，会造成一系列的问题。</p></div><div class="post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/UAF/">UAF</a><a class="post-tag-link" href="/tags/pwn/">pwn</a><a class="post-tag-link" href="/tags/安全/">安全</a></div><div class="post-time">2017-02-15</div></div></div></div><div class="post-entry"><div class="post-desc"><div class="post-title"><a href="/2017/02/14/一些pwn题目的解题思路-pwnable-kr-II/">一些pwn题目的解题思路[pwnable.kr] II</a></div><div class="post-content"><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p>以下是solution的目录</p>
<ul>
<li><a href="#mistake" title="mistake">#mistake</a></li>
<li><a href="#shellshock" title="shellshock">#shellshock</a></li>
<li><a href="#coin1" title="coin1">#coin1</a></li>
<li><a href="#blackjack" title="blackjack">#blackjack</a></li>
<li><a href="#lotto" title="lotto">#lotto</a></li>
<li><a href="#cmd1" title="cmd1">#cmd1</a></li>
</ul>
<p>Other</p>
<p><a href="http://weaponx.site/2017/02/13/%E4%B8%80%E4%BA%9Bpwn%E9%A2%98%E7%9B%AE%E7%9A%84%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF-pwnable-kr/" title="一些pwn题目的解题思路[pwnable.kr]">一些pwn题目的解题思路[pwnable.kr]</a></p></div><div class="post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/pwn/">pwn</a><a class="post-tag-link" href="/tags/安全/">安全</a></div><div class="post-time">2017-02-14</div></div></div></div><div class="post-entry"><div class="post-desc"><div class="post-title"><a href="/2017/02/13/一些pwn题目的解题思路-pwnable-kr/">一些pwn题目的解题思路[pwnable.kr]</a></div><div class="post-content"><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p>以下是solution的目录</p>
<ul>
<li><a href="#fd" title="fd">#fd</a></li>
<li><a href="#collision" title="collision">#collision</a></li>
<li><a href="#bof" title="bof">#bof</a></li>
<li><a href="#flag" title="flag">#flag</a></li>
<li><a href="#passcode" title="passcode">#passcode</a></li>
<li><a href="#random" title="random">#random</a></li>
</ul>
<p>Other</p>
<p><a href="http://weaponx.site/2017/02/14/%E4%B8%80%E4%BA%9Bpwn%E9%A2%98%E7%9B%AE%E7%9A%84%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF-pwnable-kr-II/" title="一些pwn题目的解题思路[pwnable.kr] II">一些pwn题目的解题思路[pwnable.kr] II</a></p></div><div class="post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/pwn/">pwn</a><a class="post-tag-link" href="/tags/安全/">安全</a></div><div class="post-time">2017-02-13</div></div></div></div><div class="post-entry"><div class="post-desc"><div class="post-title"><a href="/2017/02/10/Windows-x64上的x86重定向/">Windows x64上的x86重定向</a></div><div class="post-content"><h2 id="0x00-背景"><a href="#0x00-背景" class="headerlink" title="0x00 背景"></a>0x00 背景</h2><p>搬砖过程中遇到一个很奇怪的现象。写了一个程序利用命令<em>regedit</em>来读取注册表的某项值，出现了一个奇怪的现象：在某些电脑上能读到值，在另一些电脑上无法读取。</p></div><div class="post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/安全/">安全</a></div><div class="post-time">2017-02-10</div></div></div></div><div class="post-entry"><div class="post-desc"><div class="post-title"><a href="/2017/02/08/Django运行时报错/">Django运行时报错</a></div><div class="post-content"><p>年前为了偷懒，做了一个自动化的web程序，用Django写的。春节放假回来发现竟然跑不起来了。<br>报如下错误：</p>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><div class="line">TypeError: view must be <span class="keyword">a</span> callable <span class="keyword">or</span> <span class="keyword">a</span> list/tuple <span class="keyword">in</span> <span class="keyword">the</span> <span class="keyword">case</span> <span class="keyword">of</span> <span class="built_in">include</span>()</div></pre></td></tr></table></figure>
<p>顺手搜了一下，原来是手贱给Django升级了，最新版本的不支持原来的urls的写法了。</p></div><div class="post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/Django/">Django</a></div><div class="post-time">2017-02-08</div></div></div></div><div class="post-entry"><div class="post-desc"><div class="post-title"><a href="/2017/02/08/一种绕过TACACS-的思路/">一种绕过TACACS+的思路</a></div><div class="post-content"><p>最近对一些交换机做口令猜测检查的时候遇到一个奇怪的现象：配置AAA认证的交换机总能扫出一些弱口令，而且每次都不一样还都不能登录，更神奇的是返回的session确实能执行命令。</p></div><div class="post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/安全/">安全</a></div><div class="post-time">2017-02-08</div></div></div></div></div></article><div class="wrapper page-navigator-wrapper"><div class="page-navigator"><a class="extend prev" rel="prev" href="/page/3/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/">Next &raquo;</a></div></div><footer class="footer wrapper"><div class="social"><a href="/atom.xml" target="_blank"><i class="fa fa-rss"></i></a></div><div class="footer-content">© 2018 <a href="/" rel="nofollow">WeaponX's Blog</a>. Powered by <a rel="nofollow" target="_blank" href="https://hexo.io">Hexo</a>. Theme <a target="_blank" href="https://github.com/lotabout/hexo-theme-noise">noise</a>.</div></footer><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"/><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
    $(".fancybox").fancybox();
});
</script></body></html>